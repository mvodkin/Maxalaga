{"version":3,"sources":["webpack:///webpack/bootstrap 4177e29863b13daf8d7a","webpack:///./maxalaga.js","webpack:///./lib/ship.js","webpack:///./lib/projectile.js","webpack:///./lib/util.js","webpack:///./lib/background.js","webpack:///./lib/enemy.js","webpack:///./lib/moving_object.js","webpack:///./lib/game.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,EAAC;;;;;;;ACTD;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;AAIA;AACA,QAAO;AACP;;AAEA;AACA;AACA;;AAEA,8BAA6B,sCAAsC;AACnE;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA,SAAQ;;AAER;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;;AAGA;;AAEA;;;;;;;AC7GA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,SAAQ;;AAER;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;;;;;;AClDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,QAAO;AACP;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,SAAQ;AACR;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;AClCA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oBAAmB,6BAA6B;AAChD,sBAAqB,yBAAyB;AAC9C;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4177e29863b13daf8d7a\n **/","const Ship = require(\"./lib/ship.js\");\nconst Background = require(\"./lib/background.js\");\nconst EnemyFighter = require(\"./lib/enemy.js\");\nconst Game = require(\"./lib/game.js\");\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  const game = new Game;\n  \n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./maxalaga.js\n ** module id = 0\n ** module chunks = 0\n **/","const Projectile = require(\"./projectile.js\");\n\nclass Ship {\n  constructor(game) {\n\n    this.stage = game.stage;\n    this.game = game;\n\n    this.keyLeft = false;\n    this.keyRight = false;\n    this.keyUp = false;\n    this.keyDown = false;\n    this.keySpace = false;\n\n    this.player;\n\n    this.move = this.move.bind(this);\n    this.handleComplete = this.handleComplete.bind(this);\n\n\n\n    this.manifest = [\n      {src: \"./assets/ship1.png\", id: \"ship\"}\n    ];\n\n    this.loader = new createjs.LoadQueue(false);\n    this.loader.addEventListener(\"complete\", this.handleComplete);\n    this.loader.loadManifest(this.manifest, true, \"../assets/ship/\");\n\n    // this.loader.loadFile({id: \"ship\", src: \"./assets/ship1.png\"});\n    // this.loader.on(\"fileload\", this.handleComplete, this);\n\n  }\n\n  handleComplete() {\n    const shipImage = this.loader.getResult(\"ship\");\n\n    this.player = new createjs.Shape();\n    this.player.graphics.beginBitmapFill(shipImage, \"no-repeat\").drawRect(0, 0, 64, 64);\n    this.player.regX = 32;\n    this.player.regY = 32;\n    this.player.x = 350;\n    this.player.y = 600;\n    this.player.setBounds(0, 0, 700, 700);\n\n    setTimeout(() => {\n      this.stage.addChild(this.player);\n    }, 0)\n\n    setInterval(this.move, 3);\n\n    // setInterval(() => {\n    //   this.shoot()\n    // }, 100)\n\n  }\n\n\n\n\n  setDirection(key, boolean) {\n    switch (key) {\n      case \"ArrowLeft\":\n        this.keyLeft = boolean;\n        break\n      case \"ArrowRight\":\n        this.keyRight = boolean;\n        break\n      case \"ArrowUp\":\n        this.keyUp = boolean;\n        break\n      case \"ArrowDown\":\n        this.keyDown = boolean;\n        break\n      case \" \":\n        this.keySpace = boolean;\n        break\n      default:\n        break\n    }\n  }\n\n  move() {\n    if (this.keyLeft && this.player.x - 5 > 20) this.player.x -= 2;\n    if (this.keyRight && this.player.x + 5 < 680) this.player.x += 2;\n    if (this.keyUp && this.player.y - 5 > 20) this.player.y -= 2;\n    if (this.keyDown && this.player.y + 5 < 680) this.player.y += 2;\n  }\n\n  shoot() {\n    let projectile;\n    if (this.keySpace) {\n      projectile = new Projectile({\n        x: this.player.x,\n        y: this.player.y,\n        xVel: 0,\n        yVel: -20,\n        color: \"DeepSkyBlue\",\n        stage: this.stage,\n        enemy: false,\n        game: this.game\n      });\n    }\n    if (projectile) return projectile;\n  }\n\n\n}\n\nmodule.exports = Ship;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/ship.js\n ** module id = 1\n ** module chunks = 0\n **/","const Util = require(\"./util.js\");\n\nclass Projectile {\n  constructor(options) {\n    this.xVel = options.xVel;\n    this.yVel = options.yVel;\n    this.stage = options.stage;\n    this.enemy = options.enemy;\n    this.shot = new createjs.Shape();\n    this.shot.graphics.beginFill(options.color).drawRect(0, 0, 3, 7);\n    this.shot.x = options.x;\n    this.shot.y = options.y;\n    this.game = options.game;\n\n    setTimeout(() => {\n      this.stage.addChild(this.shot);\n      this.game.projectiles.push(this);\n    }, 10);\n\n    // this.moveInterval = setInterval(() => {\n    //   this.move(this.xVel, this.yVel);\n    // }, 10);\n\n  }\n\n  move(deltaS) {\n    // this.shot.x += xVel;\n    this.shot.y -= (deltaS * 500);\n\n    if (this.shot.y < 0 || this.shot.x < 0 ||\n       this.shot.y > 700 || this.shot.x > 700) {\n      clearInterval(this.moveInterval);\n      this.stage.removeChild(this.shot);\n      // const idx = this.game.projectiles.indexOf(this)\n      // this.game.projectiles.splice(0, 1);\n      this.game.projectiles.shift();\n    }\n  }\n\n  isHit(enemy) {\n    const distance = Util.dist([this.shot.x - 45, this.shot.y], [enemy.ship.x, enemy.ship.y]);\n    // return distance < (2 + enemy.ship.radius)\n    if (distance < (enemy.radius)) {\n\n      // alert(\"hit!\");\n      debugger\n      console.log(\"hit!\")\n      this.collideWith(enemy);\n    }\n  }\n\n  collideWith(enemy) {\n    // if (this.enemy instanceof Ship) {\n    //   return true;\n    // } else {\n\n      this.stage.removeChild(this.shot, enemy.ship);\n      const idx = this.game.projectiles.indexOf(this)\n      this.game.projectiles.splice(idx, 1);\n      const enemyIdx = this.game.enemies.indexOf(enemy)\n      this.game.enemies.splice(enemyIdx, 1);\n      return true;\n    // }\n  }\n\n}\n\nmodule.exports = Projectile;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/projectile.js\n ** module id = 2\n ** module chunks = 0\n **/","const Util = {\n  dist (pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n\n  enemyVel() {\n    let yVel = Math.random() * 2\n    yVel *= Math.floor(Math.random() * 2) === 1 ? 1 : -1\n    return [\n      yVel,\n      (Math.random() + 2 * 4)\n    ]\n  }\n}\n\nmodule.exports = Util;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/util.js\n ** module id = 3\n ** module chunks = 0\n **/","const Ship = require(\"./ship.js\")\n\nclass Background {\n  constructor(stage) {\n    this.stage = stage;\n    this.space;\n    this.space2;\n\n    this.manifest = [\n      {src: \"./assets/nebula.gif\", id: \"space\"}\n    ];\n\n    this.handleComplete = this.handleComplete.bind(this);\n    this.move = this.move.bind(this);\n\n    this.loader = new createjs.LoadQueue(false);\n    this.loader.addEventListener(\"complete\", this.handleComplete);\n    this.loader.loadManifest(this.manifest, true, \"../assets/art/\");\n\n  }\n\n\n  handleComplete() {\n\n    let spaceBackground = this.loader.getResult(\"space\");\n    this.space = new createjs.Shape();\n    this.space.graphics.beginBitmapFill(spaceBackground).drawRect(0, 0, 700, 700);\n    this.space.y = 0;\n    this.space.scaleX = 2.18;\n    this.space.scaleY = 2.18;\n\n    this.space2 = new createjs.Shape();\n    this.space2.graphics.beginBitmapFill(spaceBackground).drawRect(0, 0, 700, 700);\n    this.space2.scaleY = 2.18;\n    this.space2.scaleX = 2.18;\n\n    this.space2.y = -699;\n    this.stage.addChild(this.space2, this.space);\n\n  }\n\n  move(deltaS) {\n\n    this.space.y = (this.space.y + deltaS * 100) % 700;\n    this.space2.y = this.space.y - 699;\n  }\n\n\n}\n\nmodule.exports = Background;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/background.js\n ** module id = 4\n ** module chunks = 0\n **/","const MovingObject = require(\"./moving_object\");\nconst Util = require(\"./util.js\");\n\nclass EnemyFighter {\n  constructor(game) {\n    this.stage = game.stage;\n    this.enemies = game.enemies;\n    this.move = this.move.bind(this);\n    this.vel = Util.enemyVel();\n    // this.ship;\n\n    // super(options);\n\n    this.handleComplete = this.handleComplete.bind(this);\n\n    this.manifest = [\n      {src: \"./assets/bady-sprite.png\", id: \"ship\"}\n    ];\n\n    this.loader = new createjs.LoadQueue(false);\n    this.loader.addEventListener(\"complete\", this.handleComplete);\n    this.loader.loadManifest(this.manifest, true, \"../assets/art/\");\n\n\n  }\n\n  handleComplete() {\n    const badyShip = this.loader.getResult(\"ship\")\n    // const spriteSheet = new createjs.SpriteSheet({\n    //   framerate: 30,\n    //   images: [this.loader.getResult(\"ship\")],\n    //   frames: {regX: 50, regY: 1, height: 32, width: 32, count: 1 }\n    // })\n    // //\n    // this.ship = new createjs.Sprite(spriteSheet);\n    this.ship = new createjs.Shape();\n    this.ship.graphics.beginBitmapFill(badyShip, \"no-repeat\").drawRect(67, 0, 40, 32);\n    this.ship.y = 10;\n    this.ship.x = (Math.random() * 650);\n    this.ship.regX = 40;\n    this.ship.regY = 0;\n    this.radius = 25;\n\n    setTimeout(() => {\n      this.stage.addChild(this.ship);\n      this.enemies.push(this);\n    }, 10)\n\n    // setInterval(() => {\n    //   this.move(1, 10)\n    // }, 50);\n  }\n\n  move(deltaS) {\n    this.ship.x += (this.vel[0] * deltaS * 50);\n    this.ship.y += (this.vel[1] * deltaS * 50);\n\n    if (this.ship.y < 0 || this.ship.x < -10 ||\n       this.ship.y > 700 || this.ship.x > 700) {\n      this.stage.removeChild(this.ship);\n      const idx = this.enemies.indexOf(this);\n      this.enemies.splice(idx, 1);\n    }\n  }\n}\n\nmodule.exports = EnemyFighter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/enemy.js\n ** module id = 5\n ** module chunks = 0\n **/","class MovingObject {\n  constructor(options) {\n    this.xVel = options.xVel;\n    this.yVel = options.yVel;\n    this.stage = options.stage;\n    this.enemy = options.enemy;\n    this.obj.x = options.x;\n    this.obj.y = options.y;\n\n    setTimeout(() => {\n      this.stage.addChild(this.obj);\n    }, 10);\n\n    setInterval(() => {\n      this.move(this.xVel, this.yVel);\n    }, 10);\n\n  }\n\n  move(xVel, yVel) {\n    this.obj.x += xVel;\n    this.obj.y += yVel;\n\n    if (this.outOfBounds(this.obj.x, this.obj.y)) {\n      this.stage.removeChild(this.obj);\n    }\n  }\n\n  outOfBounds(x, y) {\n    return (y < 0 || x < 0 || y > 700 || x > 700);\n  }\n\n}\n\nmodule.exports = MovingObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/moving_object.js\n ** module id = 6\n ** module chunks = 0\n **/","const Ship = require(\"./ship.js\");\nconst Background = require(\"./background.js\");\nconst EnemyFighter = require(\"./enemy.js\");\n\nclass Game {\n  constructor() {\n    this.stage = new createjs.Stage(\"stage\");\n\n    this.ship = new Ship(this);\n    this.background = new Background(this.stage);\n    this.enemies = [];\n    this.projectiles = [];\n    this.stage.imageSmoothingEnabled = false;\n    this.enemyDelay;\n    this.addEnemy = this.addEnemy.bind(this);\n\n    setTimeout(() => {\n      this.addKeyListeners();\n      this.addEnemies();\n    }, 10)\n\n    setInterval(() => {\n      this.ship.shoot();\n      // this.checkHits();\n    }, 200)\n\n    createjs.Ticker.timingMode = createjs.Ticker.RAF;\n    createjs.Ticker.addEventListener(\"tick\", this.tick.bind(this));\n  }\n\n  addKeyListeners() {\n    document.addEventListener(\"keydown\", (e) => {\n      e.preventDefault()\n      this.ship.setDirection(e.key, true);\n    });\n\n    document.addEventListener(\"keyup\", (e) => {\n      this.ship.setDirection(e.key, false)\n    });\n  }\n\n  addEnemies() {\n    setInterval(this.addEnemy, 1000)\n  }\n\n  addEnemy() {\n    const bady = new EnemyFighter(this);\n  }\n\n  moveEnemies(deltaS) {\n    this.enemies.forEach(enemy => enemy.move(deltaS));\n  }\n\n  moveProjectiles(deltaS) {\n    this.projectiles.forEach(projectile => projectile.move(deltaS))\n  }\n\n  checkHits() {\n    for (let i = 0; i < this.projectiles.length; i++) {\n      for (let j = 0; j < this.enemies.length; j++) {\n        this.projectiles[i].isHit(this.enemies[j])\n      }\n    }\n  }\n\n\n  tick(event) {\n    const deltaS = event.delta / 1000;\n    this.checkHits();\n    this.moveEnemies(deltaS)\n    this.moveProjectiles(deltaS)\n    this.background.move(deltaS)\n    this.stage.update(event);\n    // this.checkHits();\n  }\n}\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 7\n ** module chunks = 0\n **/"],"sourceRoot":""}